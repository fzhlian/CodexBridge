{
  "name": "codexbridge-agent",
  "version": "0.1.19",
  "displayName": "%displayName%",
  "description": "%description%",
  "icon": "assets/icon.png",
  "type": "module",
  "main": "dist/src/extension.js",
  "types": "dist/src/extension.d.ts",
  "publisher": "fzhlian",
  "repository": {
    "type": "git",
    "url": "https://github.com/fzhlian/CodexBridge.git"
  },
  "license": "SEE LICENSE IN LICENSE.txt",
  "engines": {
    "vscode": "^1.97.0"
  },
  "activationEvents": [
    "onStartupFinished"
  ],
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "codexbridge",
          "title": "CodexBridge",
          "icon": "assets/activity-icon.svg"
        }
      ]
    },
    "views": {
      "codexbridge": [
        {
          "type": "webview",
          "id": "codexbridge.chatView",
          "name": "%view.chat.title%"
        }
      ]
    },
    "commands": [
      {
        "command": "codexbridge.startAgent",
        "title": "%command.startAgent.title%"
      },
      {
        "command": "codexbridge.stopAgent",
        "title": "%command.stopAgent.title%"
      },
      {
        "command": "codexbridge.agentStatus",
        "title": "%command.agentStatus.title%"
      }
    ],
    "configuration": {
      "title": "%configuration.title%",
      "properties": {
        "codexbridge.autostart": {
          "type": "boolean",
          "default": false,
          "description": "%configuration.autostart.description%"
        },
        "codexbridge.relayUrl": {
          "type": "string",
          "default": "ws://127.0.0.1:8787/agent",
          "description": "%configuration.relayUrl.description%"
        },
        "codexbridge.machineId": {
          "type": "string",
          "default": "local-machine",
          "description": "%configuration.machineId.description%"
        },
        "codexbridge.reconnectMs": {
          "type": "number",
          "default": 3000,
          "description": "%configuration.reconnectMs.description%"
        },
        "codexbridge.heartbeatMs": {
          "type": "number",
          "default": 10000,
          "description": "%configuration.heartbeatMs.description%"
        },
        "codexbridge.pendingTimeoutMs": {
          "type": "number",
          "default": 300000,
          "description": "%configuration.pendingTimeoutMs.description%"
        },
        "codexbridge.allowApplyPatch": {
          "type": "boolean",
          "default": true,
          "description": "%configuration.allowApplyPatch.description%"
        },
        "codexbridge.allowRunTerminal": {
          "type": "boolean",
          "default": false,
          "description": "%configuration.allowRunTerminal.description%"
        },
        "codexbridge.defaultTestCommand": {
          "type": "string",
          "default": "pnpm test",
          "description": "%configuration.defaultTestCommand.description%"
        },
        "codexbridge.ui.enableChatView": {
          "type": "boolean",
          "default": true,
          "description": "%configuration.ui.enableChatView.description%"
        },
        "codexbridge.ui.maxMessages": {
          "type": "number",
          "default": 200,
          "description": "%configuration.ui.maxMessages.description%"
        },
        "codexbridge.ui.locale": {
          "type": "string",
          "default": "zh-CN",
          "enum": [
            "auto",
            "zh-CN",
            "en"
          ],
          "description": "%configuration.ui.locale.description%"
        },
        "codexbridge.cloudflaredCheckMs": {
          "type": "number",
          "default": 15000,
          "description": "%configuration.cloudflaredCheckMs.description%"
        },
        "codexbridge.contextMaxFiles": {
          "type": "number",
          "default": 10,
          "description": "%configuration.contextMaxFiles.description%"
        },
        "codexbridge.contextMaxFileBytes": {
          "type": "number",
          "default": 12000,
          "description": "%configuration.contextMaxFileBytes.description%"
        },
        "codexbridge.contextMaxFileChars": {
          "type": "number",
          "default": 12000,
          "description": "%configuration.contextMaxFileChars.description%"
        },
        "codexbridge.contextMaxSelectionChars": {
          "type": "number",
          "default": 6000,
          "description": "%configuration.contextMaxSelectionChars.description%"
        },
        "codexbridge.nl.enable": {
          "type": "boolean",
          "default": true,
          "description": "%configuration.nl.enable.description%"
        },
        "codexbridge.nl.useModelRouter": {
          "type": "boolean",
          "default": true,
          "description": "%configuration.nl.useModelRouter.description%"
        },
        "codexbridge.nl.modelRouterStrict": {
          "type": "boolean",
          "default": true,
          "description": "%configuration.nl.modelRouterStrict.description%"
        },
        "codexbridge.nl.modelRouterStrictAttachRawOutput": {
          "type": "boolean",
          "default": false,
          "description": "%configuration.nl.modelRouterStrictAttachRawOutput.description%"
        },
        "codexbridge.nl.confidenceThreshold": {
          "type": "number",
          "default": 0.55,
          "minimum": 0,
          "maximum": 1,
          "description": "%configuration.nl.confidenceThreshold.description%"
        },
        "codexbridge.chat.enableExecFallback": {
          "type": "boolean",
          "default": false,
          "description": "%configuration.chat.enableExecFallback.description%"
        },
        "codexbridge.chat.execBypassApprovalsAndSandbox": {
          "type": "boolean",
          "default": false,
          "description": "%configuration.chat.execBypassApprovalsAndSandbox.description%"
        }
      }
    }
  },
  "categories": [
    "Other"
  ],
  "scripts": {
    "build": "tsc -b",
    "typecheck": "tsc -b --pretty false",
    "lint": "eslint src test --ext .ts",
    "test": "vitest run",
    "dev": "pnpm run build && node dist/src/index.js",
    "dev:node": "pnpm run build && node dist/src/index.js",
    "package:vsix": "node ./scripts/package-vsix.mjs"
  },
  "dependencies": {
    "@codexbridge/codex-client": "workspace:*",
    "@codexbridge/shared": "workspace:*",
    "ws": "^8.18.1"
  },
  "devDependencies": {
    "esbuild": "^0.25.9",
    "@types/ws": "^8.18.1",
    "@vscode/vsce": "^3.2.2",
    "@types/vscode": "^1.97.0"
  }
}
